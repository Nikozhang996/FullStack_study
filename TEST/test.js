const data = [
  {
    id: 39,
    title: "广州教学部",
    children: [
      { id: 45, title: "教务组", children: null },
      {
        id: 120,
        title: "师训处",
        children: [
          { id: 46, title: "师训处", children: null },
          {
            id: 56,
            title: "兼职组",
            children: [
              { id: 229, title: "兼职C00组", children: null },
              { id: 230, title: "兼职C01组", children: null },
              { id: 231, title: "兼职C02组", children: null },
              { id: 232, title: "兼职C03组", children: null },
              { id: 233, title: "兼职C04组", children: null },
              { id: 234, title: "兼职C05组", children: null },
              { id: 235, title: "兼职C06组", children: null },
              { id: 236, title: "兼职C07组", children: null },
              { id: 237, title: "兼职C08组", children: null },
              { id: 278, title: "兼职C09组", children: null }
            ]
          },
          { id: 344, title: "兼职demo管理组", children: null }
        ]
      },
      {
        id: 244,
        title: "全职demo",
        children: [
          { id: 321, title: "demo01组-苏西组", children: null },
          { id: 322, title: "demo02组-点点组", children: null },
          { id: 323, title: "demo03组-布丁组", children: null },
          { id: 324, title: "demo04组-小萌组", children: null },
          { id: 402, title: "30分钟demo项目组", children: null }
        ]
      },
      { id: 257, title: "在培教师组", children: null },
      {
        id: 347,
        title: "总部教学组",
        children: [
          {
            id: 49,
            title: "总部01",
            children: [
              { id: 59, title: "总部001木子组", children: null },
              { id: 79, title: "总部003正义组", children: null },
              { id: 80, title: "总部006达达组", children: null },
              { id: 107, title: "总部005微微组", children: null },
              { id: 213, title: "总部002跳跳组", children: null }
            ]
          },
          {
            id: 63,
            title: "总部02",
            children: [
              { id: 60, title: "总部009巧克力组", children: null },
              { id: 77, title: "总部015梨子组", children: null },
              { id: 105, title: "总部013猴子组", children: null },
              { id: 106, title: "总部014芝麻组", children: null },
              { id: 115, title: "总部010眉毛组", children: null }
            ]
          },
          { id: 374, title: "总部研学", children: null }
        ]
      },
      {
        id: 348,
        title: "天河教学组",
        children: [
          {
            id: 102,
            title: "天河01",
            children: [
              { id: 58, title: "天河003|coco~邹霖莹", children: null },
              { id: 81, title: "天河001|星星~张稔容", children: null },
              { id: 82, title: "天河002|CC~陈芳", children: null },
              { id: 316, title: "天河004丨朵朵~郭燕", children: null }
            ]
          },
          {
            id: 103,
            title: "天河02",
            children: [
              { id: 57, title: "天河007丨素素组", children: null },
              { id: 61, title: "天河005丨袋鼠~李进权", children: null },
              { id: 116, title: "天河008丨乖乖~刘亚楠", children: null },
              { id: 337, title: "天河006丨小熊~熊燕妮", children: null }
            ]
          },
          {
            id: 104,
            title: "天河05",
            children: [
              { id: 204, title: "天河018丨嘟嘟~孙也", children: null },
              { id: 205, title: " 天河019丨吱吱~张露之", children: null },
              { id: 345, title: "天河020丨梦梦~底孟兰", children: null },
              { id: 346, title: "天河017丨啊菜~蔡嘉璜", children: null }
            ]
          },
          { id: 117, title: "天河06", children: null },
          { id: 207, title: "天河04", children: null },
          { id: 212, title: "天河03", children: null },
          { id: 285, title: "天河07", children: null },
          { id: 405, title: "天河017甜甜组", children: null }
        ]
      }
    ]
  },
  {
    id: 260,
    title: "教研产品部",
    children: [
      {
        id: 121,
        title: "教研支持部",
        children: [
          { id: 186, title: "上海教学培训组", children: null },
          {
            id: 187,
            title: "上海教学组",
            children: [
              { id: 188, title: "试听课组", children: null },
              {
                id: 189,
                title: "正课组",
                children: [{ id: 198, title: "正课组01组", children: null }]
              }
            ]
          },
          { id: 261, title: "上海教务组", children: null }
        ]
      },
      {
        id: 262,
        title: "教研部",
        children: [
          {
            id: 263,
            title: "广州教研",
            children: [
              { id: 270, title: "幼儿教研组1", children: null },
              { id: 271, title: "小学教研组1", children: null }
            ]
          },
          {
            id: 264,
            title: "上海教研",
            children: [
              { id: 265, title: "幼儿教研组", children: null },
              { id: 266, title: "小学教研组", children: null },
              { id: 267, title: "故事创编组", children: null },
              { id: 268, title: "信息支持组", children: null },
              { id: 269, title: "特色教研组", children: null }
            ]
          }
        ]
      },
      {
        id: 317,
        title: "学科运营部",
        children: [{ id: 318, title: "学科项目运营", children: null }]
      }
    ]
  },
  {
    id: 273,
    title: "武汉教学中心",
    children: [
      { id: 291, title: "武汉教务部", children: null },
      {
        id: 293,
        title: "武汉教学组",
        children: [
          {
            id: 300,
            title: "培训组",
            children: [
              { id: 368, title: "研学组", children: null },
              {
                id: 393,
                title: "运营部",
                children: [
                  { id: 398, title: "质检组", children: null },
                  { id: 399, title: "招聘组", children: null },
                  { id: 400, title: "数据统计组", children: null }
                ]
              },
              {
                id: 394,
                title: "项目组",
                children: [
                  { id: 395, title: "demo组", children: null },
                  { id: 396, title: "正课组", children: null },
                  { id: 397, title: "续费退费组", children: null }
                ]
              },
              { id: 401, title: "岗前培训", children: null }
            ]
          },
          {
            id: 387,
            title: "武汉教学一部",
            children: [
              { id: 295, title: "乐多组", children: null },
              { id: 296, title: "追梦组", children: null },
              { id: 299, title: "小玉组", children: null },
              { id: 363, title: "彩笔组", children: null },
              { id: 364, title: "高高壮组", children: null },
              { id: 365, title: "豆苗组", children: null },
              { id: 366, title: "紫薯组", children: null },
              { id: 367, title: "74组", children: null }
            ]
          },
          {
            id: 388,
            title: "武汉教学二部",
            children: [
              { id: 297, title: "温柔组", children: null },
              { id: 298, title: "小鹿组", children: null },
              { id: 310, title: "小花组", children: null },
              { id: 320, title: "马里奥组", children: null },
              { id: 389, title: "小水滴组", children: null },
              { id: 391, title: "兰迪组", children: null },
              { id: 392, title: "喔喔组", children: null },
              { id: 403, title: "小火苗组", children: null }
            ]
          }
        ]
      },
      { id: 371, title: "武汉在培教师组", children: null }
    ]
  }
];

function handler(id, data) {
  function func(targetId, prevData = [], sourceData = []) {
    for (let i = 0; i < sourceData.length; i++) {
      const item = sourceData[i];
      const { id, title, children } = item;
      if (id === targetId) {
        return [...prevData, { id, title }];
      }
      if (Array.isArray(children) && children.length > 0) {
        prevData = [...prevData, { id, title }];
        return func(targetId, prevData, children);
      }
    }

    return [];
  }
  return func(id, [], data);
}

// console.log(handler(45, data));
console.log(handler(405, data));
